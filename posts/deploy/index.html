<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>HUGO 安装指南 | Slick</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="description" content="Github Pages 登录 github 创建 username.github.io 的 repository
下载 hugo 安装文件（MAC) brew install hugo 创建一个新网站 hugo new site &lt;sitename&gt; 下载一个新主题 git clone https://github.com/EmielH/tale-hugo.git themes/tale 下载 repository git clone https://username.github.io/username.githug.io 创立 submodule git submodule add -f -b master git@github.com:username/username.github.io.git public 开始一篇新文章 hugo new post/hello-world.md 告诉 hugo 应用哪个主题 设置根目录下 config.toml 的 theme 值
theme = &#34;tale&#34; 此处正确做法应该是将 theme 目录下的 config.toml 复制粘贴到站点根目录并覆盖原来的文件，否则一些特效会出不来。
尝试运行 hugo server -D 自动运行 创造一个 shell script 以使得 hugo 实现自动化部署，步骤最后一步可能会需要输入ssh key 密码。" />
  <meta name="author" content="Some Author" />
  <meta name="generator" content="Hugo 0.45" />
  <link href="https://example.com/index.xml" rel="alternate" type="application/rss+xml" title="Slick Feed" />
  <link rel="shortcut icon" href="https://example.com/img/favicon.png" type="image/png" />
  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://example.com/assets/style-compat.css" />
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://example.com/assets/style.css" />
  <!--<![endif]-->
</head>
<body>
<div class="pure-g">
  <div class="pure-u-1-24 pure-u-md-5-24"></div>
  <div class="pure-u-22-24 pure-u-md-14-24">
  <div class="navigation-header">
  <div class="pure-menu pure-menu-horizontal">
    <a class="pure-menu-heading pure-menu-link" href="https://example.com/">
      Slick
    </a>
    <ul class="pure-menu-list pull-end navigation-header-subtitle">
      <li class="pure-menu-item pure-menu-disabled">Just another site</li>
    </ul>
  </div>
</div>
<div class="navigation-content">
  <div class="pure-menu pure-menu-horizontal">
    <ul class="pure-menu-list">
      <li class="pure-menu-item">
        <a  class="pure-menu-link" href="https://example.com/posts/">Posts</a>
      </li>
      <li class="pure-menu-item">
        <a  class="pure-menu-link" href="https://example.com/categories/">Categories</a>
      </li>
      <li class="pure-menu-item">
        <a  class="pure-menu-link" href="https://example.com/series/">Series</a>
      </li>
      <li class="pure-menu-item">
        <a  class="pure-menu-link" href="https://example.com/tags/">Tags</a>
      </li>
    </ul>
  </div>
</div>

  
<div>
  <div>
    <h1 class="post-title">HUGO 安装指南</h1>
    <div class="post-meta">
  Date &#x5b;
    <time datetime="2018-09-24T00:44:54&#43;08:00">Mon, 24 Sep 2018 00:44:54 CST</time>
  &#x5d;
</div>

  </div>
  <div>

<h2 id="github-pages">Github Pages</h2>

<p>登录 github 创建 username.github.io 的 repository</p>

<h2 id="下载-hugo-安装文件-mac">下载 hugo 安装文件（MAC)</h2>
<div class="highlight"><pre class="chroma">brew install hugo</pre></div>
<h2 id="创建一个新网站">创建一个新网站</h2>
<div class="highlight"><pre class="chroma">hugo new site &lt;sitename&gt;</pre></div>
<h2 id="下载一个新主题">下载一个新主题</h2>
<div class="highlight"><pre class="chroma">git clone https://github.com/EmielH/tale-hugo.git themes/tale</pre></div>
<h2 id="下载-repository">下载 repository</h2>
<div class="highlight"><pre class="chroma">git clone https://username.github.io/username.githug.io</pre></div>
<h2 id="创立-submodule">创立 submodule</h2>
<div class="highlight"><pre class="chroma">git submodule add -f -b master git@github.com:username/username.github.io.git public</pre></div>
<h2 id="开始一篇新文章">开始一篇新文章</h2>
<div class="highlight"><pre class="chroma">hugo new post/hello-world.md</pre></div>
<h2 id="告诉-hugo-应用哪个主题">告诉 hugo 应用哪个主题</h2>

<p>设置根目录下 config.toml 的 theme 值</p>
<div class="highlight"><pre class="chroma">theme = &#34;tale&#34;</pre></div>
<p><mark>此处正确做法应该是将 theme 目录下的 config.toml 复制粘贴到站点根目录并覆盖原来的文件，否则一些特效会出不来。</mark></p>

<h2 id="尝试运行">尝试运行</h2>
<div class="highlight"><pre class="chroma">hugo server -D</pre></div>
<h2 id="自动运行">自动运行</h2>

<p>创造一个 shell script 以使得 hugo 实现自动化部署，步骤最后一步可能会需要输入ssh key 密码。</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="cp">#!/bin/bash
</span><span class="cp"></span>
<span class="nb">echo</span> -e <span class="s2">&#34;\033[0;32mDeploying updates to GitHub...\033[0m&#34;</span>

<span class="c1"># Build the project.
</span><span class="c1"></span>hugo -D

<span class="c1"># Go To Public folder
</span><span class="c1"></span><span class="nb">cd</span> public
<span class="c1"># Add changes to git.
</span><span class="c1"></span>git add .

<span class="c1"># Commit changes.
</span><span class="c1"></span><span class="nv">msg</span><span class="o">=</span><span class="s2">&#34;rebuilding site `date`&#34;</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$#</span> -eq <span class="m">1</span> <span class="o">]</span>
  <span class="k">then</span> <span class="nv">msg</span><span class="o">=</span><span class="s2">&#34;</span><span class="nv">$1</span><span class="s2">&#34;</span>
<span class="k">fi</span>
git commit -m <span class="s2">&#34;</span><span class="nv">$msg</span><span class="s2">&#34;</span>

<span class="c1"># Push source and build repos.
</span><span class="c1"></span>git push origin master</code></pre></div>
<p>保存上述 shell scripts 为 deploy.sh 后 chmod +x 使其可执行，以后每次改动或者新增文章，只要 ./deploy.sh 就可以了。</p>

<p>仍需解决的问题：</p>

<ol>
<li><p>hugo 并不提供删除文章的命令，因为直接在文件夹 content 删除即可，但这样会使得 public 文件夹里的文章不会随着 content 文章的删除而删除，如此一来， git push 的时候，所删除的文章也不会反映到 github 上；</p></li>

<li><p>如果文章中的 markdown 语法或者其它 hugo 语法错误，那么 hugo -D 的执行结果就会出现错误，，进而导致后续的一系列问题；</p></li>

<li><p>每次执行 deploy.sh 都需要输入 ssh key 密码</p></li>
</ol>

<hr />

<h2 id="识别数学公式">识别数学公式</h2>

<p>Hugo 采用 <a href="https://docs.mathjax.org/en/latest/start.html">MathJax</a> 来展现数学公式，最便捷的使用方式是在</p>

<p><code>themes/themesname/layouts/partials/header.html</code></p>

<p>中加入</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text/javascript&#34;</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&#34;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML&#34;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>
<p>这是一个部署在 CloudFlare 上的基于 CDN 的 javascript, 当然也可以部署 MathJax 在本地，另外，为了更准确的识别行文中的数学公式，建议再加入</p>
<div class="highlight"><pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;text/x-mathjax-config&#34;</span><span class="o">&gt;</span>
  <span class="nx">MathJax</span><span class="p">.</span><span class="nx">Hub</span><span class="p">.</span><span class="nx">Config</span><span class="p">({</span><span class="nx">tex2jax</span><span class="o">:</span> <span class="p">{</span><span class="nx">inlineMath</span><span class="o">:</span> <span class="p">[[</span><span class="s1">&#39;$&#39;</span><span class="p">,</span><span class="s1">&#39;$&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;\\(&#39;</span><span class="p">,</span><span class="s1">&#39;\\)&#39;</span><span class="p">]]}});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>
<p>测试结果如下：</p>

<p>When $a \ne 0$, there are two solutions to $(ax^2 + bx + c = 0)$ and they are
$$x = {-b \pm \sqrt{b^2-4ac} \over 2a}$$</p>

<hr />

<h2 id="安装-mermaid">安装 mermaid</h2>

<p><a href="https://mermaidjs.github.io/">mermaid</a> 用于画流程图以及甘特图, 主题 <a href="https://github.com/vjeantet/hugo-theme-docdock">docdock</a> 可以自动安装 mermaid, 接下来是在其它主题部署 mermaid 的步骤：</p>

<ul>
<li>安装 docdock 主题</li>
</ul>
<div class="highlight"><pre class="chroma">git submodule add https://github.com/vjeantet/hugo-theme-docdock.git themes/docdock</pre></div>
<ul>
<li>复制 shortcode</li>
</ul>
<div class="highlight"><pre class="chroma">cp themes/docdock/layouts/shortcodes/mermaid.html themes/yourtheme/layouts/shortcodes/</pre></div>
<ul>
<li>复制 mermaid js 以及 css</li>
</ul>
<div class="highlight"><pre class="chroma">cp -r themes/docdock/static/mermaid themes/yourtheme/static/</pre></div>
<p>测试结果如下：</p>

<link href="https://example.com/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
<script defer src="https://example.com/mermaid/mermaid.js">mermaid.initialize({startOnLoad:true});</script>
<div class="mermaid" align="left" >
graph LR;
    A[Hard edge] -->|Link text| B(Round edge)
    B --> C{Decision}
    C -->|One| D[Result one]
    C -->|Two| E[Result two]
</div>

<link href="https://example.com/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
<script defer src="https://example.com/mermaid/mermaid.js">mermaid.initialize({startOnLoad:true});</script>
<div class="mermaid" align="left" >
graph TD
  A-->B;
  A-->C;
  B-->D;
  C-->D;
</div>

<p><kbd>table</kbd> 展示</p>

<table>
<thead>
<tr>
<th>ID</th>
<th>Make</th>
<th>Model</th>
<th>Year</th>
</tr>
</thead>

<tbody>
<tr>
<td>1</td>
<td>Honda</td>
<td>Accord</td>
<td>2009</td>
</tr>

<tr>
<td>2</td>
<td>Toyota</td>
<td>Camry</td>
<td>2012</td>
</tr>

<tr>
<td>3</td>
<td>Hyundai</td>
<td>Elantra</td>
<td>2010</td>
</tr>
</tbody>
</table>

<p>未完待续</p>
</div>
</div>
  <div class="footer-content">
  <div class="pure-menu pure-menu-horizontal">
    <ul class="pure-menu-list">
      <li class="pure-menu-item">
        <a class="pure-menu-link" href="https://github.com/someauthor">GitHub</a>
      </li>
      <li class="pure-menu-item">
        <a class="pure-menu-link" href="https://twitter.com/someauthor">Twitter</a>
      </li>
      <li class="pure-menu-item">
        <a class="pure-menu-link" href="https://medium.com/@someauthor">Medium</a>
      </li>
      <li class="pure-menu-item">
        <a href="https://example.com/index.xml" class="pure-menu-link">RSS</a>
      </li>
      <li class="pure-menu-item">
        <a class="pure-menu-link" id="btn-gototop">
          <span class="fixup">&#x21e7;&#xfe0e;</span>
        </a>
      </li>
    </ul>
  </div>
  <div class="pure-menu pure-menu-horizontal">
    <ul class="pure-menu-list">
      <li class="pure-menu-item pure-menu-disabled">
        &copy; 2019 &mdash; Some Author — All rights reserved.
      </li>
    </ul>
  </div>
</div>
<script>
  function setElementsClass(selector, value) {
    Array.prototype.forEach.call(
      document.querySelectorAll(selector),
      function(elem) { elem.className = value; }
    );
  }

  setElementsClass('img', 'pure-img');
  setElementsClass('table', 'pure-table');

  function onResize() {
      setElementsClass(
        '.pure-menu', document.documentElement.clientWidth >= 568 ?
              'pure-menu pure-menu-horizontal' : 'pure-menu'
      );
  }
  onResize();
  window.addEventListener('resize', onResize);

  document.getElementById('btn-gototop').addEventListener('click', function() {
    function scroll() {
      if (window.pageYOffset > 0) { setTimeout(scroll, 8); }
      window.scroll(0, window.pageYOffset - 128);
    }
    scroll();
  });
</script>

  </div>
  <div class="pure-u-1-24 pure-u-md-5-24"></div>
</div>
</body>
</html>
